package org.omich.lang;import java.util.List;import org.omich.lang.SQLite.WordsStorage;import org.omich.lang.httpClient.SmdClient;import org.omich.lang.words.Language;import android.app.Service;import android.content.Intent;import android.os.IBinder;import android.util.Log;public class SyncService extends Service {            LangOmichSettings lSettings;           @Override    public IBinder onBind(Intent intent) {        return null;    }    @Override    public void onCreate() {         lSettings = new LangOmichSettings(this,LangOmichActivity.SETTINGS_NAME);    }    @Override    public void onDestroy() {    }    @Override    public void onStart(Intent intent, int startid) {                 SmdClient client = new SmdClient();                String login = lSettings.getLogin();        String password = lSettings.getPassword();                try{        	        	if(client.auth(login, password)){        		        		WordsStorage wordsStorage = new WordsStorage(this);        		        		Log.d("test", "start");        		long lastconnect = lSettings.getLastConnect();        		wordsStorage.open();        		Log.d("test", "send");        		List<Language> language = wordsStorage.getLatestUserWords(lastconnect);        		wordsStorage.close();        		Log.d("test", "getNew");        		List<Language> newLanguage = client.Sync(language, lastconnect);        		Log.d("test", "parse");        		lastconnect = client.getLastConnect();        		wordsStorage.open();        		Log.d("test", "writeNEw");        		wordsStorage.synchronization(newLanguage, language);        		Log.d("test", "endNew");        		wordsStorage.close();        		lSettings.edit();        		lSettings.saveLastConnection(lastconnect);        		        		Log.d("test", "end");        	}        	        }catch (Exception e) {			// TODO: handle exception		}    }}